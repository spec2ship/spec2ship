# Spec2Ship Project Configuration
# This file is created by /s2s:init

name: "{project-name}"
type: "{standalone | workspace | component}"
version: "0.1.0"

# === WORKSPACE REFERENCE ===
# Only present when type is "component"
# workspace:
#   path: ".."                         # Relative path to workspace root
#   workspace_yaml: "../.s2s/workspace.yaml"

# Git workflow
git:
  branch_convention: "feature/F{id}-{slug}"
  commit_convention: "conventional"
  default_branch: "main"

# Roundtable configuration
roundtable:
  verbose: false           # Save full responses in session file
  interactive: false       # Pause after each round for user input

  # === STRATEGY ===
  # Facilitation method from skills/roundtable-strategies/
  strategy:
    default: "standard"            # Used by /s2s:roundtable when no workflow

    by_workflow_type:
      specs: "consensus-driven"    # Best for requirements agreement
      design: "debate"             # Best for evaluating architectural options
      brainstorm: "disney"         # Best for creative ideation

  # === PARTICIPANTS ===
  participants:
    default:
      - software-architect         # System design, patterns, scalability
      - technical-lead             # Implementation feasibility, code quality

    by_workflow_type:
      specs:
        - product-manager          # User value, priorities, scope
        - ux-researcher            # User needs, accessibility, experience
        - business-analyst         # Requirements clarity, domain rules
        - qa-lead                  # Testability, edge cases, acceptance
      design:
        - software-architect       # System structure, patterns, trade-offs
        - security-champion        # Threat modeling, secure design, OWASP
        - technical-lead           # Code quality, effort, maintainability
        - devops-engineer          # Deployment, scalability, monitoring
      brainstorm:
        - product-manager          # User value, market fit
        - software-architect       # Technical feasibility
        - technical-lead           # Implementation complexity
        - devops-engineer          # Infrastructure considerations

  # === ESCALATION ===
  escalation:
    enabled: true
    triggers:
      max_rounds_per_conflict: 3   # Escalate if conflict persists
      confidence_below: 0.5        # Escalate if confidence drops
      critical_keywords:           # Escalate if detected
        - security
        - must-have
        - blocking
        - legal
    presentation:
      show_all_positions: true
      show_rationale: true
      facilitator_recommendation: true

  # === LIMITS ===
  limits:
    min_rounds: 3                  # Minimum before allowing conclusion
    max_rounds: 20                 # Force conclude after this
    max_rounds_per_phase: 10       # Force phase advance after this

# File naming
naming:
  timestamp_format: "YYYYMMDD-HHMMSS"
  slug_max_length: 50
